import os, sys,csv, glob
import numpy as np
from collections import defaultdict
import matplotlib
import matplotlib.pyplot as plt


x = [0,1,2,3]
y = [.46, .59, .63, .63]

fig1, ax1 = plt.subplots(1,1,figsize=(5,5))
plt.plot(x,y,color='orange',linewidth=2.0)
plt.xticks([0,1,2,3], (" ", "DE", "DE,BR", "DE,BR,SG"))
ax1.set_ylabel("Fraction of domains accessed without traversing United States",fontsize=14)
ax1.set_xlabel("Set of Relays", fontsize=14)

ax1.grid(1)
for tick in ax1.get_yticklabels():
    tick.set_fontsize(14)
for tick in ax1.get_xticklabels():
    tick.set_fontsize(14)
fig1.tight_layout()
ax1.set_xlim([0, 4])
ax1.set_ylim([.4, .8])
fig1.savefig('avoidance_n_relays.pdf')

'''
TODO: fix parse_wgets.py
y1 = [0.8996779654420922, 0.00800713480517851, 0.0481727139261745, 0.00013865433730088272, 0.01325520258101206, 0.0049112410772414435, 0.0445807734622231, 0.10143234616234188, 0.0049910674224028714, 0.0031855466554490783, 0.006584579594577779, 0.10281492162633825, 0.04051417520601456, 0.2459283200850398, 0.006639037021370821, 0.016072469567555276, 0.015222527681648052, 0.5520487369162641, 0.005861104920853016, 0.0028453258253772805, 0.00943967157213139, 0.09788908399977125, 0.023116434901213845, 0.0008324332859205163, 0.003552631015691282, 0.020466512338274477, 0.0011328296289957402, 0.005181630452473958, 0.29471330054012346, 0.0018204383130343456, 0.24800815666299558, 0.004131773598173745, 0.0018508949471478487, 0.2339423457278481, 0.013347396580996025, 0.0030504014756944442, 0.006000155494326637, 0.013914168445093775, 0.0008041794235641892, 0.26536410018552875, 0.00012110150049603174, 0.5920651153433476, 0.28453480113636365, 0.05079673853243609, 0.014605979801331511, 0.0003954334023558063, 0.0030149113048206677, 0.0029163360595703125, 0.0001553737398645793, 0.0025726544975054146, 0.006186485290527344, 0.17778276759167494, 0.9400837392459515, 0.022869039725553503, 0.05932273327464789, .00001807487447848495, 0.01222478932347791, 0.012766760449076809, 0.01838520101832049, 0.01538242825884411, 0.012963286831847623, 0.0931111273364486, 0.010254235394233095, 0.012080925555268596, 0.014744120195877454, 0.000146403374254618, .000029571472652374754, 0.0028294194353757985, 0.10522715250651042, 0.00016650807916430703, 0.00013382935618472383, 0.002260905045729417, 0.002807261238635426, 0.5108927102913534, 0.00305326815644001, 0.008532493672472365, 0.14151021080368906, 0.00341962780472795, 0.001263753605275019, 0.06263092772601402, 0.003906974086055049, 0.0012959951556610226, 0.00016042372075522818, 0.002443998287885617]
x1 = range(1, len(y1)+1)
print len(y1)
print len(x1)

x2 = x1
y2 = [0.2718381485849057, 0.007625336342669548, 0.0481727139261745, 0.00015746879014997005, 0.016253458989130984, 0.002965104990992053, 0.044163183313636965, 0.1329190390450614, 0.10143234616234188, 0.012096255106696915, 0.0035225398956783235, 0.09024496854207163, 0.005106915840424297, 0.10115889941944795, 0.02459963162740072, 0.36247856596596223, 0.006605769906725203, 0.047560114609567744, 0.015745976174524588, 0.5513981093497576, 0.004725523397956096, 0.00303598790386923, 0.016425926528291074, 0.09615653384048328, 0.015820841287027532, 0.0008324332859205163, 0.009825083547341, 0.0056201692611452135, 0.0007166378739951313, 0.0026732000685830153, 0.30186125669924335, 0.003294272930761383, 0.23912595595991562, 0.0043380571448284645, 0.0021030970982142856, 0.2602951694542254, 0.003921574559705011, 0.0025196356966926603, 0.004271297131554555, 0.017443796391543663, 0.002059144544766436, 0.3277469758064516, 0.00010342553304459873, 0.03683743411547517, 0.16133416559278352, 0.0507482609952004, 0.0014167361789279515, 0.0003209429417917867, 0.0031435094173485633, 0.0249801502283391, 0.00213623046875, 0.00017483478195745776, 0.004776435739853802, 0.004594876216008114, 0.21523905314371258, 1.3899476156069364, 0.02533795403652504, 0.0596588394121813, .000018461502809575536, 0.04853965531842819, 0.012618037632533483, 0.01451117651803153, 0.015565444683206494, 0.01586333565090014, 0.001160749748571595, 0.01107188371511606, 0.03439188708759954, 0.008577108383178711, 0.00016424219264396777, .00003029272808292048, 0.0025502004121479237, 0.0037416705378779656, 0.0847772767922949, 0.0001748622907486754, 0.00012826859120029308, 0.003033870242420256, 0.0032173049065374556, 0.551093233104915, 0.037341707208183375, 0.009399540516553003, 0.4551236427436441, 0.00013603276504582656, 0.003162530752328726, 0.0012707034585929594, 0.0008533899237008676, 0.01974970939092451, 0.0076850058127277835, 0.0021097660064697266, 0.0011727843486087424, 0.0001744311241426877, 0.11953590029761904, 0.013387069273530767]
print len(y2)

fig2, ax2 = plt.subplots(1,1,figsize=(5,6))
plt.plot(x1, y1, 'r^', x2, y2, 'bs')
ax2.set_ylabel('Latency (s)', fontsize=14)
ax2.set_xlabel('Top 100 Domains', fontsize=14)

ax2.grid(1)
fig2.tight_layout()
ax2.set_xlim([0,100])
ax2.set_ylim([0,1.5])
fig2.savefig('latency.pdf')
'''
